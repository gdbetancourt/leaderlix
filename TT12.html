<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Evaluación de Presentaciones – Radar + Cuadrantes + Ruido</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root{
      --res:#1c1e2c;   /* Resultados */
      --obj:#00FFFF;   /* Objetivos */
      --ok:#18a957;
      --warn:#f0ad4e;
      --border:#1c1e2c;
    }
    *{box-sizing:border-box}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;margin:0;background:#fafafa;color:#222}
    header{padding:16px 24px;background:#fff;border-bottom:1px solid #e9e9e9;position:sticky;top:0;z-index:5}
    header h1{margin:0;font-size:20px}

    .container{display:none;flex-direction:column;align-items:center;gap:20px;padding:20px}

    #timer{font-variant-numeric:tabular-nums;font-size:44px;font-weight:800;text-align:right;width:100%;max-width:960px}
    .controls{display:grid;grid-template-columns:1fr auto auto auto auto;gap:10px;width:100%;max-width:960px}
    .controls input{padding:10px;font-size:16px;border:1px solid #ccc;border-radius:8px}
    .controls button{padding:10px 14px;font-size:16px;border:none;border-radius:8px;color:#fff;cursor:pointer}
    #startStopButton,#pauseResumeButton,#resetButton,#exportButton{background:var(--res)}
    .controls button[disabled]{opacity:.45;cursor:default}

    .workspace{display:grid;grid-template-columns:auto 84px;gap:16px;align-items:start}
    @media (max-width:840px){ .workspace{grid-template-columns:1fr} }

    .radial-board{position:relative;width:min(520px,90vw);height:min(520px,90vw)}
    .circle-btn{position:absolute;width:84px;height:84px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:800;border:none;color:#fff;cursor:pointer;transform:translate(-50%,-50%);transition:transform .08s ease, box-shadow .08s ease;background:var(--res)}
    .circle-btn:active{transform:translate(-50%,-50%) scale(.98)}
    .active-ring{box-shadow:0 0 0 8px rgba(28,30,44,.18)}
    .label{position:absolute;transform:translate(-50%,-50%);font-size:16px;color:#444;font-weight:700;pointer-events:none}
    .noise-btn{background:#9b9b9b}

    .axis-panel{display:flex;flex-direction:column;gap:12px}
    .axis-btn{width:84px;min-height:84px;border-radius:14px;border:2px solid #ddd;background:#fff;color:#222;font-weight:800;font-size:14px;cursor:pointer;box-shadow:0 1px 4px rgba(0,0,0,.08);transition:box-shadow .1s ease, transform .05s ease}
    .axis-btn:active{transform:scale(.98)}
    .axis-btn.active{outline:0;box-shadow:0 0 0 6px rgba(28,30,44,.18), 0 1px 4px rgba(0,0,0,.08);border-color:var(--border)}
    .axis-btn span{display:block}
    .axis-up::before{content:"↑";display:block;font-size:18px;margin-bottom:4px}
    .axis-down::before{content:"↓";display:block;font-size:18px;margin-bottom:4px}

    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;max-width:960px;width:100%}
    @media (max-width:900px){.grid{grid-template-columns:1fr 1fr}}
    @media (max-width:640px){.grid{grid-template-columns:1fr}}

    .summary-item{background:#fff;border:1px solid #e1e1e1;border-radius:10px;padding:10px;font-size:15px;line-height:1.35;display:flex;flex-direction:column;gap:6px}
    .summary-item .row{display:flex;justify-content:space-between;gap:10px}
    .summary-item .time{font-weight:800;font-variant-numeric:tabular-nums}
    .summary-item .pct{color:#777}

    .totals{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;max-width:960px;width:100%}
    @media (max-width:900px){.totals{grid-template-columns:1fr 1fr}}
    .total-chip{background:#fff;border:1px solid #e5e5e5;border-radius:12px;padding:10px}
    .total-chip h4{margin:0 0 6px 0}
    .total-chip .k{font-variant-numeric:tabular-nums;font-weight:800}

    .panel{width:min(960px,94vw);background:#fff;border:1px solid #e5e5e5;border-radius:12px;box-shadow:0 2px 6px rgba(0,0,0,.06);padding:16px}
    .panel h3{margin:6px 0 12px 0}

    .charts-wrap{display:grid;grid-template-columns:1fr 1fr;gap:16px;width:min(960px,94vw)}
    @media (max-width:900px){.charts-wrap{grid-template-columns:1fr}}
    .chart-box{width:100%;border:2px solid #222;padding:16px;background:#fff;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,.08)}
    canvas{width:100%!important;height:100%!important}

    .noise-wrap{width:min(960px,94vw);background:#fff;border:1px solid #e5e5e5;border-radius:12px;padding:14px}
    .noise-bar{height:16px;border-radius:10px;background:#eee;overflow:hidden}
    .noise-fill{height:100%;background:#9b9b9b}
    .noise-legend{display:flex;justify-content:space-between;font-size:13px;margin-top:6px}

    /* Pantalla de objetivos */
    #goalSetting{max-width:960px;margin:24px auto;padding:32px;background:#fff;border-radius:24px;box-shadow:0 2px 6px rgba(0,0,0,.08);border:1px solid #ececec}
    #goalSetting h2{text-align:center;margin:0 0 18px 0;font-size:44px}
    #goalSetting p{text-align:center;font-size:28px;line-height:1.3;margin:0 0 18px 0}
    #goalSetting .sliders{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-top:8px}
    #goalSetting .sliders>div{background:#fafafa;border:1px solid #eee;border-radius:10px;padding:10px}
    #goalSetting button{display:block;margin:20px auto 0 auto;padding:12px 24px;background:var(--res);color:#fff;border:none;border-radius:14px;font-size:28px}
    .mini{font-size:22px;color:#666;margin-top:-6px;text-align:center}
    input[type="range"]{width:100%}
  </style>
</head>
<body>
<header>
  <h1 aria-live="polite">Evaluación de Presentaciones – Radar + Cuadrantes + Ruido</h1>
</header>

<!-- Pantalla 1: objetivos con sliders -->
<div id="goalSetting" aria-labelledby="titleGoals">
  <h2 id="titleGoals">Define tus Objetivos (Opcional)</h2>
  <p>Ajusta el porcentaje para cada categoría. No es necesario llegar a 100%.</p>
  <div id="sliders" class="sliders" role="group" aria-label="Sliders de objetivos"></div>
  <p style="font-weight:bold;text-align:center;font-size:36px">Total asignado: <span id="totalPercent">0%</span></p>
  <p class="mini">Tip: 1–6 categorías, P/D eje vertical, R = Ruido (centro), todo tras iniciar el cronómetro.</p>
  <button id="btnProceed" onclick="proceedToMain()">Siguiente</button>
</div>

<!-- Pantalla 2: cronómetro y resultados -->
<div class="container" id
